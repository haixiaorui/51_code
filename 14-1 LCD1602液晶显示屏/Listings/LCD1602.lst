C51 COMPILER V9.54   LCD1602                                                               12/09/2025 19:42:44 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE LCD1602
OBJECT MODULE PLACED IN .\Objects\LCD1602.obj
COMPILER INVOKED BY: E:\Keil_v5\C51\BIN\C51.EXE LCD1602.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\L
                    -CD1602.lst) OBJECT(.\Objects\LCD1602.obj)

line level    source

   1          #include <STC89C5xRC.H>
   2          #include <INTRINS.H>
   3          #include <stdio.h>
   4          
   5          sbit LCD_RS = P2^6; 
   6          sbit LCD_RW = P2^5;
   7          sbit LCD_E = P2^7;
   8          #define LCD_DataPort P0
   9          
  10          void LCD_Delay(void)    //@11.0592MHz 1ms
  11          {
  12   1              unsigned char data i, j;
  13   1      
  14   1              _nop_();
  15   1              i = 2;
  16   1              j = 199;
  17   1              do
  18   1              {
  19   2                      while (--j);
  20   2              } while (--i);
  21   1      }
  22          
  23          void LCD_WriteCommand(unsigned char command)
  24          {
  25   1              LCD_RS = 0;
  26   1              LCD_RW = 0;
  27   1              LCD_DataPort = command;
  28   1              LCD_E = 1;
  29   1              LCD_Delay();
  30   1              LCD_E = 0;
  31   1              LCD_Delay();
  32   1      }
  33          
  34          void LCD_WriteData(unsigned char Data)
  35          {
  36   1              LCD_RS = 1;
  37   1              LCD_RW = 0;
  38   1              LCD_DataPort = Data;
  39   1              LCD_E = 1;
  40   1              LCD_Delay();
  41   1              LCD_E = 0;
  42   1              LCD_Delay();
  43   1      }
  44          
  45          void LCD_Init(void)
  46          {
  47   1              LCD_WriteCommand(0x38);
  48   1              LCD_WriteCommand(0x0C);
  49   1              LCD_WriteCommand(0x06);
  50   1              LCD_WriteCommand(0x01);
  51   1      }
  52          
  53          void LCD_SetCursor(unsigned char line, unsigned char column)
  54          {
C51 COMPILER V9.54   LCD1602                                                               12/09/2025 19:42:44 PAGE 2   

  55   1              if(line == 1)
  56   1              {
  57   2                      LCD_WriteCommand(0x80 | (column - 1));
  58   2              }
  59   1              else
  60   1              {
  61   2                      LCD_WriteCommand(0x80 | (column - 1) + 0x40);
  62   2              }
  63   1      }
  64          
  65          void LCD_ShowChar(unsigned char line, unsigned char column, unsigned char Char)
  66          {
  67   1              LCD_SetCursor(line, column);
  68   1              LCD_WriteData(Char);
  69   1      }
  70          
  71          void LCD_ShowString(unsigned char line, unsigned char column, unsigned char* String)
  72          {
  73   1              unsigned char i;
  74   1              LCD_SetCursor(line, column);
  75   1              for(i = 0; String[i] != '\0'; i++)
  76   1              {
  77   2                      LCD_WriteData(String[i]);
  78   2              }
  79   1      }
  80          
  81          void LCD_ShowNum(unsigned char line, unsigned char column, unsigned int number)
  82          {
  83   1              unsigned char text[5];
  84   1              LCD_SetCursor(line, column);
  85   1              sprintf(text, "%u", number);
  86   1              LCD_ShowString(line, column, text);
  87   1      }
  88          
  89          void LCD_ShowSignedNum(unsigned char line, unsigned char column, int number)
  90          {
  91   1              unsigned char text[6];
  92   1              LCD_SetCursor(line, column);
  93   1              sprintf(text, "%d", number);
  94   1              LCD_ShowString(line, column, text);
  95   1      }
  96          
  97          void LCD_ShowHexNum(unsigned char line, unsigned char column, unsigned int number)
  98          {
  99   1              unsigned char text[4];
 100   1              LCD_SetCursor(line, column);
 101   1              sprintf(text, "%X", number);
 102   1              LCD_ShowString(line, column, text);
 103   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    253    ----
   CONSTANT SIZE    =      9    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      24
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
