C51 COMPILER V9.54   MAIN                                                                  11/29/2025 11:10:52 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: E:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Delayms.h"
   3          #include "Timer0.h"
   4          
   5          sbit BEEP = P2^5;
   6          
   7          #define P       0       //‰ºëÊ≠¢Á¨¶
   8          #define L1      1       //LË°®Á§∫‰ΩéÈü≥
   9          #define L1_     2       //_Ë°®Á§∫ÂçáÂçäÈü≥ Âç≥#1
  10          #define L2      3
  11          #define L2_     4
  12          #define L3      5
  13          #define L4      6
  14          #define L4_     7
  15          #define L5      8
  16          #define L5_     9
  17          #define L6      10
  18          #define L6_     11
  19          #define L7      12
  20          #define M1      13      //MË°®Á§∫‰∏≠Èü≥
  21          #define M1_     14
  22          #define M2      15
  23          #define M2_     16
  24          #define M3      17
  25          #define M4      18
  26          #define M4_     19
  27          #define M5      20
  28          #define M5_     21
  29          #define M6      22
  30          #define M6_     23
  31          #define M7      24
  32          #define H1      25      //HË°®Á§∫È´òÈü≥
  33          #define H1_     26
  34          #define H2      27
  35          #define H2_     28
  36          #define H3      29
  37          #define H4      30
  38          #define H4_     31
  39          #define H5      32
  40          #define H5_     33
  41          #define H6      34
  42          #define H6_     35
  43          #define H7      36
  44          #define STOP 37
  45          
  46          unsigned int FreqTable[] = {
  47                  0,
  48                  63777,63872,63969,64054,64140,64216,64291,64360,64426,64489,64547,64603,
  49                  64655,64704,64751,64795,64837,64876,64913,64948,64981,65012,65042,65070,
  50                  65095,65120,65144,65166,65186,65206,65225,65242,65259,65274,65289,65303
  51          };
  52          
  53          unsigned char code Music[][2] = {       //Âêé‰∏Ä‰ΩçË°®Á§∫Êó∂ÈïøÔºå1‰∏∫ÂçäÊãç
  54                  {M3,4},{M2,2},{M1,4},{M2,2},{M3,3},{M4,1},{M3,2},{M2,4},{P,2},
C51 COMPILER V9.54   MAIN                                                                  11/29/2025 11:10:52 PAGE 2   

  55                  {M3,4},{M2,2},{M1,4},{M2,2},{M3,3},{M4,1},{M3,2},{M2,4},{P,2},
  56                  {M3,4},{M2,2},{M1,4},{M2,2},{M3,3},{M4,1},{M3,2},{M2,4},{P,2},
  57                  {M3,4},{M2,2},{M1,4},{M2,2},{M3,3},{M4,1},{M3,2},{M2,4},
  58                  {M1,1},{M2,1},{M3,2},{M3,2},{M2,2},{M4,2},{M3,2},{M2,2},{M2,2},{M2,2},{M1,1},{M1,1},{M4,2},{M3,2},{M2,2},
             -{M2,4},{M1,1},{M2,1},{M3,6},{P,6},
  59                          //ÊÇ¥„Çì„Å†ÂøÉ „Åµ„Çã„Åà„ÇãÁúºÂ∑Æ„Åó ‰∏ñÁïå„Åß
  60                  {M3,2},{M5,2},{H1,1},{H1,1},{M7,4},{H1,2},{M7,4},{H1,2},{M7,1},{M6,1},{M5,2},{P,2},
  61                          //ÂÉï„ÅØ „Å≤„Å®„Çä„Åº„Å£„Å°„Å†„Å£„Åü
  62                  {M5,2},{M2,2},{M4,2},{M4,4},{M3,2},{M3,2},{P,2},{L5,2},{M4,2},{M3,2},{M2,2},{M3,4},{M5,2},{M1,6},
  63                          //Êï£„Çã„Åì„Å®„Åó„ÅãÁü•„Çâ„Å™„ÅÑÊò•„ÅØ
  64                  {P,4},{M1,2},{M2,2},{M1,3},{M1,1},{M1,2},{M5,2},{M1,2},{M4,4},{M3,2},{M2,4},{M1,2},{M1,6},
  65                          //ÊØéÂπ¥ÂÜ∑„Åü„Åè„ÅÇ„Åó„Çâ„ÅÜ
  66                  {P,4},{M1,1},{M2,1},{M3,2},{M3,2},{M2,2},{M4,2},{M3,2},{M2,2},{M2,2},{M2,2},{M1,1},{M1,1},{M4,2},{M3,2},{
             -M2,2},{M2,4},{M1,1},{M2,1},{M3,6},{P,6},
  67                          //Êöó„Åå„Çä„ÅÆ‰∏≠ ‰∏ÄÊñπÈÄöË°å„Å´ „Åü„Å†„Åü „Å†
  68                  {M3,2},{M5,2},{H1,2},{M7,4},{H1,2},{M7,4},{H1,2},{M7,1},{M6,1},{M5,2},{P,2},
  69                          //Ë®ÄËëâ„ÇíÊõ∏„ÅçÊÆ¥„Å£„Å¶
  70                  {M5,2},{M2,2},{M4,2},{M4,4},{M3,2},{M3,2},{P,2},{L5,2},{M4,2},{M3,2},{M2,2},{M3,4},{M5,2},{M1,10},{M1,1},
             -{M1,1},{M2,2},{M1,2},{P,2},
  71                          //ÊúüÂæÖ„Åô„Çã„Å†„Åë „ÇÄ„Å™„Åó„ÅÑ„Å®ÂàÜ„Åã„Å£„Å¶„ÅÑ„Å¶„ÇÇ
  72                  {M1,2},{M5,2},{M1,2},{M4,2},{M4,1},{M4,1},{M3,1},{M2,1},{M2,4},{M1,2},{M1,6},{P,6},
  73                          //Êïë„ÅÑ„ÇíÊ±Ç„ÇÅÁ∂ö„Åë„Åü
  74                  {M6,2},{M5,2},{M5,2},{M5,2},{M4,2},{M4,2},{M3,2},{M2,2},{M2,2},{M2,4},
  75                          //„Åõ„Å§„Å™„Åè„Å¶ „ÅÑ„Å®„Åä„Åó„ÅÑ
  76                  {M5,2},{M5,2},{M4,1},{M4,1},{M4,2},{M4,2},{M3,2},{M2,2},{M2,4},{M1,1},{L7,1},{M1,4},{P,2},
  77                          //‰ªä„Å™„Çâ„Å∞ ÂàÜ„Åã„ÇãÊ∞ó„Åå„Åô„Çã
  78                  {M6,2},{M5,2},{M5,2},{M5,2},{M4,2},{M4,2},{M3,2},{M2,2},{M2,2},{M2,4},
  79                          //„Åó„ÅÇ„Çè„Åõ„Åß „Åè„Çã„Åä„Åó„ÅÑ
  80                  {M2,2},{M3,2},{M3,1},{M3,1},{M3,1},{M3,1},{M3,2},{M2,2},{M3,2},{H2,4},{H1,2},{H1,2},{P,2},
  81                          //„ÅÇ„ÅÆÊó•Ê≥£„Åë„Å™„Åã„Å£„ÅüÂÉï„Çí
  82                  {H1,2},{M7,4},{M6,2},{M6,6},{P,4},{M6,2},{M6,2},{M5,2},{M4,1},{M4,1},{M4,6},{M3,1},{M4,1},{M5,10},{P,6},
  83                          //ÂÖâ„ÅØ „ÇÑ„Åï„Åó„ÅèÈÄ£„ÇåÁ´ã„Å§„Çà
  84                  {M3,1},{M2,1},{M3,1},{M2,1},{M3,1},{M4,1},{M5,4},{M4,1},{M5,1},{M6,4},{M6,1},{M7,1},{H1,2},{P,2},
  85                          //Èõ≤Èñì„Çí„Å¨„Å£„Å¶ „Åç„Çâ„Çä„Åç„Çâ„Çä
  86                  {H2,1},{H1,1},{M5,4},{M1,2},{M5,2},{M4,2},{M3,2},{M3,4},{M3,1},{M3,1},{M5,4},{P,2},
  87                          //ÂøÉÊ∫Ä„Åü„Åó„Å¶„ÅØ Ê∫¢„Çå
  88                  {M3,1},{M2,1},{M3,1},{M2,1},{M3,1},{M4,1},{M5,4},{M4,1},{M5,1},{M6,4},{M6,1},{M7,1},{H1,2},{P,2},
  89                          //„ÅÑ„Å§„Åó„ÅãÈ†¨„Çí „Åç„Çâ„Çä„Åç„Çâ„Çä
  90                  {H1,1},{H3,2},{H3,2},{P,1},{H2,1},{H4,2},{H3,2},{H2,2},{H2,3},{H1,1},{H1,1},{M7,1},{H1,2},{P,2},
  91                          //ÁÜ±„Åè ÁÜ±„ÅèÊø°„Çâ„Åó„Å¶„ÇÜ„Åè
  92                  {M5,1},{H1,1},{H2,4},{H1,2},{H1,2},{P,2},{M5,2},{H2,4},{H1,2},{H1,2},{P,2},
  93                          //Âêõ„ÅÆÊâã„ÅØ „Å©„ÅÜ„Åó„Å¶
  94                  {M5,1},{H1,1},{H2,4},{H1,2},{H1,2},{P,2},{M5,1},{H1,1},{H2,3},{H3,1},{H2,2},{H1,2},{P,2},
  95                          //„Åì„Çì„Å™„Å´„ÇÇÊ∏©„Åã„ÅÑ„ÅÆÔºü
  96                  {H1,2},{H1,4},{M6,2},{M6,4},{M5,2},{M5,4},{M4,2},{M4,2},{M3,2},{M2,2},{M3,6},{P,6},{M3,2},{M4,2},{M3,2},{
             -M4,2},{M3,2},{M2,2},{M1,6},
  97                          //„Å≠„Åá„ÅäÈ°ò„ÅÑ „Å©„ÅÜ„Åã„Åì„ÅÆ„Åæ„Åæ Èõ¢„Åï„Å™„ÅÑ„Åß„ÅÑ„Å¶
  98                  {STOP,1}
  99          };
 100          
 101          unsigned char FreqSelect,MusicSelect;
 102          
 103          void main(){
 104   1              Timer0_Init();
 105   1              while(1){
 106   2                      if(FreqSelect == STOP){ //Âà§Êñ≠ÂÅúÊ≠¢
 107   3                              TR0 = 0;
 108   3                              while(1);
 109   3                      }
 110   2                      else{
 111   3                              FreqSelect = Music[MusicSelect][0];
 112   3                              Delayms(140 * Music[MusicSelect][1]); // 194BPM (60/194)/2=0.155s 155ÊúâÁÇπÊÖ¢‰∏çÊáÇ‰∏∫Âï•„ÄÇ„ÄÇ140Â∑Æ‰
C51 COMPILER V9.54   MAIN                                                                  11/29/2025 11:10:52 PAGE 3   

             -∏çÂ§ö‰ΩÜËøòÂæóË∞ÉÊï¥
 113   3                              MusicSelect++;
 114   3                              
 115   3                              TR0 = 0;        //Èü≥Á¨¶‰πãÈó¥Èó¥Êñ≠
 116   3                              Delayms(5);
 117   3                              TR0 = 1;
 118   3                      }
 119   2              }
 120   1      }
 121          
 122          void Timer0_Routine() interrupt 1{
 123   1              if(FreqTable[FreqSelect]){
 124   2                      TH0 = FreqTable[FreqSelect] / 256;
 125   2                      TL0 = FreqTable[FreqSelect] % 256;
 126   2                      BEEP = !BEEP;
 127   2              }
 128   1      }
 129          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    142    ----
   CONSTANT SIZE    =    632    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     76    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
